<html manifest="84ciss.manifest"><head>
<title>Auto Cache(FW 9.00)</title>
<script>history.replaceState(null,null,'index.html');</script>
</head>
<style>
body {
    font-family: system-ui;
    text-align: center;
    background-color: #111112;
    color: white;
}
h1 {
    color: #fff;
    font-size: 46px;
    font-weight: bold;
    text-shadow: 3px 2px #3d3939;
}
#progress {
    font-size: 35px;
    font-weight: bold;
    text-shadow: 3px 2px #3d3939;
    color: #fff;
}
.ready {
    color: #87FF33;
}
</style>
<body>
<br><br><br>
<h1><i>PS4 Jailbreak v2.0 (Fw 9.00)</i></h1>
<br><br><br><br>
<div id="progress">
    Caching files, please wait...
</div>
<br><br><br><br><br><br>
<div style="background-color:#032140;color:white;position:fixed;left:0;bottom:-0px;width:100%;text-align:center;">
<font style='color:#87FF33'>Modder & Dev : </font><a href="https://twitter.com/84Ciss" style='font-size:20px;text-align:center;color:yellow;'>@84Ciss</a> - Find Me In Tweeter if you have any kind of issues !&nbsp;
<br><font style='color:#87FF33'>Special thanks : </font>*Many Many Thanks to all Contributors in PS4 Scene ∆❍X❑*<br>
</div>

<script>
    var progress = document.getElementById('progress');
    
    // Événement quand les fichiers sont mis en cache pour la première fois
    window.applicationCache.addEventListener('cached', function() {
        progress.innerHTML = '<span class="ready">Cache complete! Redirecting...</span>';
        localStorage.setItem("ps4_cached", "true");
        setTimeout(function() {
            window.location.replace("index.html");
        }, 1000);
    }, false);
    
    // Événement quand le cache est mis à jour
    window.applicationCache.addEventListener('updateready', function() {
        progress.innerHTML = '<span class="ready">Cache updated! Redirecting...</span>';
        localStorage.setItem("ps4_cached", "true");
        setTimeout(function() {
            window.location.replace("index.html");
        }, 1000);
    }, false);
    
    // Si déjà en cache (IDLE ou UPDATEREADY), rediriger immédiatement
    if (window.applicationCache.status == 1 || window.applicationCache.status == 4) {
        progress.innerHTML = '<span class="ready">Already cached! Redirecting...</span>';
        localStorage.setItem("ps4_cached", "true");
        setTimeout(function() {
            window.location.replace("index.html");
        }, 500);
    }
    
    // Gestion des erreurs de cache
    window.applicationCache.addEventListener('error', function() {
        progress.innerHTML = '<span style="color:#ee596f">Cache error! Redirecting anyway...</span>';
        localStorage.setItem("ps4_cached", "true");
        setTimeout(function() {
            window.location.replace("index.html");
        }, 2000);
    }, false);
</script>
</body>
</html>

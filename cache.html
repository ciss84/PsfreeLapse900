<html manifest="84ciss.manifest"><head>
<title>Auto Cache(FW 9.00)</title>
<script>history.replaceState(null,null,'index.html');</script>
</head>
<style>
body {
    font-family: system-ui;
    text-align: center;
    background-color: #111112;
    color: white;
}
h1 {
    color: #fff;
    font-size: 46px;
    font-weight: bold;
    text-shadow: 3px 2px #3d3939;
}
#progress, #progress2 {
    font-size: 35px;
    font-weight: bold;
    text-shadow: 3px 2px #3d3939;
    color: #fff;
}
#progress2 {
    font-size: 28px;
    color: #87FF33;
    display: none;
}
.ready {
    color: #87FF33;
}
</style>
<body>
<br><br><br>
<h1><i>PS4 Jailbreak v2.0 (Fw 9.00)</i></h1>
<br><br><br><br>
<div id="progress">
    Caching files, please wait...
</div>
<div id="progress2">
    Caching Update files, please wait...
</div>
<br><br><br><br><br><br>
<div style="background-color:#032140;color:white;position:fixed;left:0;bottom:-0px;width:100%;text-align:center;">
<font style='color:#87FF33'>Modder & Dev : </font><a href="https://twitter.com/84Ciss" style='font-size:20px;text-align:center;color:yellow;'>@84Ciss</a> - Find Me In Tweeter if you have any kind of issues !&nbsp;
<br><font style='color:#87FF33'>Special thanks : </font>*Many Many Thanks to all Contributors in PS4 Scene ∆❍X❑*<br>
</div>

<script>
    var progress = document.getElementById('progress');
    var progress2 = document.getElementById('progress2');
    
    // Détecter si c'est un UPDATE
    var isUpdate = (document.referrer && document.referrer.indexOf('index.html') !== -1);
    
    if (isUpdate) {
        progress.style.display = 'none';
        progress2.style.display = 'block';
    }
    
    // Événement cached
    window.applicationCache.addEventListener('cached', function() {
        if (isUpdate) {
            progress2.innerHTML = '<span class="ready">Update complete! Redirecting...</span>';
        } else {
            progress.innerHTML = '<span class="ready">Cache complete! Redirecting...</span>';
        }
        setTimeout(function() {
            window.location.replace("index.html");
        }, 1000);
    }, false);
    
    // Événement updateready
    window.applicationCache.addEventListener('updateready', function() {
        if (isUpdate) {
            progress2.innerHTML = '<span class="ready">Update ready! Redirecting...</span>';
        } else {
            progress.innerHTML = '<span class="ready">Cache updated! Redirecting...</span>';
        }
        setTimeout(function() {
            window.location.replace("index.html");
        }, 1000);
    }, false);
    
    // Si déjà en cache
    if (window.applicationCache.status == 1 || window.applicationCache.status == 4) {
        if (isUpdate) {
            progress2.innerHTML = '<span class="ready">Already cached! Redirecting...</span>';
        } else {
            progress.innerHTML = '<span class="ready">Already cached! Redirecting...</span>';
        }
        setTimeout(function() {
            window.location.replace("index.html");
        }, 500);
    }
    
    // Erreur
    window.applicationCache.addEventListener('error', function() {
        if (isUpdate) {
            progress2.innerHTML = '<span style="color:#ee596f">Cache error! Redirecting anyway...</span>';
        } else {
            progress.innerHTML = '<span style="color:#ee596f">Cache error! Redirecting anyway...</span>';
        }
        setTimeout(function() {
            window.location.replace("index.html");
        }, 2000);
    }, false);
</script>
<script type="text/javascript">
 if(localStorage.getItem("theme")==null){
   localStorage.setItem("theme","2.jpg")
 }
 document.body.style.background = "url('"+localStorage.getItem("theme")+"')"
 document.body.style.backgroundSize = "cover"
</script>
</body>
</html>
